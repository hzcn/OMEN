## zabbix从放弃到入门（4）：在zabbix中添加监控项

这篇文章将会介绍怎样在zabbix中为主机添加一个监控项。

前文中，已经描述了怎样在zabbix中添加主机，但是，我们并没有对主机进行任何指标的实际监控，那么现在，我们来说说，具体怎样监控我们想要监控的指标。

在具体操作之前，我们先聊聊理论，假设我们想要监控磁盘的使用率，在没有zabbix这种监控工具时，我们怎样监控呢，再或者，我们不仅没有zabbix这种监控工具，我们也不会写脚本，更不会写任何程序，我们该如何监控磁盘的使用率呢。没错，人工监控，当我们无法依赖任何工具或者脚本等外部助力时。即使我们是通过人工完成监控的，我们也要想办法能够获取到被监控目标的数据，比如我们想要监控磁盘使用率，那么我们就要不停的获取磁盘的使用率信息，以便我们能够随时的了解磁盘的空间使用情况，那么我们怎样获取磁盘的使用率呢，就拿centos为例，我们可能会通过如下命令，获取每个分区的磁盘使用率。

### df -h

没错，我们通过命令，获取到了磁盘使用率的信息，当然，这个命令比较简短，方便我们从键盘键入，如果一条简单的命令，无法获取到磁盘使用率的信息呢，那么我们可能会通过一条稍微复杂的命令去实现监控，比如，如果我们只想要监控“根分区”磁盘使用率，我们可能会使用如下命令实现。

### df -h | awk '$6~/^\/$/{print $5,$6}'

我们发现，获取监控信息的命令越来越长了，那么我们能不能尽量简化这些较长的命令呢，必须能啊，设置个别名不就行了，那么，我们把刚才的命令设置一个别名，直接命令别名试试。

### alias rdu="df -h | awk'$6~/^\/${print $5,$6}/"

可以看到，原本比较长的命令只缩减为了rdu三个字符。是不是比原来方便了许多呢，我们只需要三个字符，就能获取到根分区的使用情况。

这个时候，你可能会问，Linux的命令别名与zabbix的监控项有关系吗，我们是来看怎么添加zabbix监控项的，不是来听你瞎BB的。

好吧，其实它们并没有什么关系，但是他们有一些类似的地方，比如，我们刚才做的工作，无非就是获取监控信息，需要获取监控信息，就要执行对应的命令，我们也可以通过别名，调用对应的命令，从未获取到我们想要或得到的监控信息，在zabbix中，我们要监控的某一个目标，被称为“监控项”,就像我们的磁盘使用率，在zabbix中就可以被认为是一个“监控项”（item），如果要获取到“监控项”的相关信息，我们则要执行一个命令，但是我们不能直接调用命令，而是通过一个“别名”去调用命令，这个“命令别名”在zabbix中被称为“键”，所以，在zabbix中，如果我们想要获取到一个“监控项”的值，则需要有对应的“键”，通过“键”能够调用相应的命令，获取到对应的监控信息，我们暂且这样理解，方便我们入门。

好了，我们此处又提到了两个新的术语，我们来总结一遍：

监控项（item）：某个监控指标，在zabbix中就被称之为一个item，某个主机中可能有多个需要被监控的指标，也就是说，某个host可能有多个item。

键（key、item key)：如果想要获取监控项对应的数据，则必须通过某个key去获取，我们可以把key想象成调用对应命令的“命令别名”，zabbix中自带一些key，这些key往往比较通用，比如，通过这些key，我们可以监控cpu，内存，硬盘等常用指标，获取不同的指标信息，需要不同的key，但是如果这些自带的key无法满足我们的监控需求时，我们也可以自定义key，通过自定义key执行对应的操作，这些都是后话，我们慢慢来。

好了，说了这么多，哥们儿你应该有点印象了，话接上回，我们已经在zabbix中添加了一台主机，现在，我们继续在这台主机上操作。首先，打开我们zabbix控制台，点击”配置“--”主机“，可以看到我们上次创建的主机，虽然我门为对应的被监控主机安装了agent，但是主机对应的ZBX仍然显示为灰色，代表我们还没有任何监控项被检测到，那么现在，我们来为testzbx1主机添加一个监控项。









































